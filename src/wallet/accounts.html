<template>
  <div id="wallet-accounts">
    <h2>Accounts</h2>

    <table if.bind="accounts.length">
      <thead>
        <th>Title</th>
        <th>Address</th>
        <th>Balance</th>
      </thead>
      <tbody>
        <tr repeat.for="account of accounts">
          <td>
            <input maxwidth="15" placeholder="Untitled" keyup.trigger="rename(account.address, account.title)" value.bind="account.title" />
          </td>
          <td>${account.address}</td>
          <td>${account.balance}</td>
          <td>
            <button click.trigger="action('wallet/receive', account)">Deposit</button>
            <button click.trigger="action('wallet/send', account)" disabled.bind="account.balance == 0">Withdrawl</button>
            <button click.trigger="remove(account.address)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>

    <button click.trigger="create()" disabled.bind="progress">
      ${progress == 0 ? 'Create' : 'Creating'} <span if.bind="progress > 0 && progress < 100">(${progress}% complete)</span>
    </button>
  </div>
</template>
